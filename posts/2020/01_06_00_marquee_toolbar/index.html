<!doctype html><html lang=ja><head><meta charset=utf-8><link crossorigin=anonymous media=all rel=stylesheet href=https://suihan74.github.io/css/frameworks.css?20200801214626><link crossorigin=anonymous media=all rel=stylesheet href=https://suihan74.github.io/css/github.css?20200801214626><link crossorigin=anonymous media=all rel=stylesheet href=https://suihan74.github.io/css/user.css?20200801214626><meta name=viewport content="width=device-width"><meta name=description content="やりたいこと こういうの。 ツールバーのtitle部分の文字列が横に流れ続けている。 カスタムビューの作成 Toolbarを継承した次のようなカスタ"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://suihan74.github.io/posts/2020/01_06_00_marquee_toolbar/><meta name=twitter:card content="summary"><meta name=twitter:title content="タイトルテキストがMarqueeするToolbarを作る - すいはんぶろぐ.io"><meta name=twitter:description content="やりたいこと こういうの。 ツールバーのtitle部分の文字列が横に流れ続けている。 カスタムビューの作成 Toolbarを継承した次のようなカスタ"><meta name=twitter:site content="https://suihan74.github.io/"><meta name=twitter:creator content><meta name=twitter:image content="https://suihan74.github.io/"><meta property="og:type" content="article"><meta property="og:title" content="タイトルテキストがMarqueeするToolbarを作る - すいはんぶろぐ.io"><meta property="og:description" content="やりたいこと こういうの。 ツールバーのtitle部分の文字列が横に流れ続けている。 カスタムビューの作成 Toolbarを継承した次のようなカスタ"><meta property="og:url" content="https://suihan74.github.io/posts/2020/01_06_00_marquee_toolbar/"><meta property="og:site_name" content="タイトルテキストがMarqueeするToolbarを作る"><meta property="og:image" content="https://suihan74.github.io/"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2020-01-06 00:18:01 +0900 JST"><title>タイトルテキストがMarqueeするToolbarを作る - すいはんぶろぐ.io</title><meta property="og:url" content="https://suihan74.github.io/posts/2020/01_06_00_marquee_toolbar/"><meta property="og:site_name" content="すいはんぶろぐ.io"><meta property="og:type" content="article"><meta property="og:title" content="タイトルテキストがMarqueeするToolbarを作る"><meta property="og:description" content="2020年にもなって文字列をmarqueeさせたくなったので作る"><meta name=description content="2020年にもなって文字列をmarqueeさせたくなったので作る"><link rel=icon type=image/x-icon class=js-site-favicon href=https://suihan74.github.io/favicon.ico><link rel="shortcut icon" href=https://suihan74.github.io/favicon.ico><meta name=theme-color content="#1e2327"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-71542625-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-71542625-2');</script></head><body class="env-production emoji-size-boost page-responsive page-profile"><div class="position-relative js-header-wrapper"><span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar"><span class="progress-pjax-loader-bar top-0 left-0" style=width:0%></span></span><header class="Header py-lg-0 js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role=banner><div class="Header-item d-none d-lg-flex"><a class=Header-link href=https://suihan74.github.io/ aria-label=Homepage data-ga-click="Header, go to dashboard, icon:logo"><svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" width="32" aria-hidden="true"><path style="fill-rule:evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.077797-1.481017-.077797-2.151017C5.9433346 12.597005 6.1160655 11.824118 6.56 11.53 4.78 11.33 3.8013559 10.978983 3.5810169 7.6647458 3.9355372 4.6446549 5.3653277 3.8240736 8.0538984 3.639661 10.967753 3.8102868 12.141357 4.4459308 12.425085 7.6477967 12.255593 10.378813 11.25 11.33 9.47 11.53c.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38C13.806446 14.490656 15.999121 11.437004 16 8c0-4.42-3.58-8-8-8z" /><rect style="fill-rule:evenodd" ry=".23728813" y="6.3898306" x="6.0169492" height="1.0847455" width="3.9830508"/></svg><span class=site-title-text>すいはんぶろぐ.io</span></a></div><div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden"><div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to" role=combobox aria-owns=jump-to-results aria-label="Search or jump to" aria-haspopup=listbox aria-expanded=false><div class=position-relative></div></div></div><nav class=d-flex aria-label=Global><a class="js-selected-navigation-item Header-link py-lg-3">&nbsp;</a></nav><div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative" style=margin-right:auto><a class=Header-link href=https://suihan74.github.io/ aria-label=Homepage data-ga-click="Header, go to dashboard, icon:logo"><svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" width="32" aria-hidden="true"><path style="fill-rule:evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.077797-1.481017-.077797-2.151017C5.9433346 12.597005 6.1160655 11.824118 6.56 11.53 4.78 11.33 3.8013559 10.978983 3.5810169 7.6647458 3.9355372 4.6446549 5.3653277 3.8240736 8.0538984 3.639661 10.967753 3.8102868 12.141357 4.4459308 12.425085 7.6477967 12.255593 10.378813 11.25 11.33 9.47 11.53c.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38C13.806446 14.490656 15.999121 11.437004 16 8c0-4.42-3.58-8-8-8z" /><rect style="fill-rule:evenodd" ry=".23728813" y="6.3898306" x="6.0169492" height="1.0847455" width="3.9830508"/></svg><span class=site-title-text>すいはんぶろぐ.io</span></a></div><div class="Header-item position-relative mr-0 d-none d-lg-flex Details-content--hidden"><div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 position-relative js-jump-to"><div class=position-relative><form class=js-site-search-form role=search action=https://cse.google.com/cse method=get><input type=hidden name=cx value=006598476776954487838:x6qvcxfxgqt>
<label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container"><input type=text class="header-search-form form-control input-sm header-search-input jump-to-field js-jump-to-field" name=q placeholder=Search autocapitalize=off aria-label=Search spellcheck=false onkeydown="if(event.keyCode==13){if(this.value.length){document.getElementById('header-search-submit').click();return false}else{return false}};" autocomplete=off>
<button id=header-search-submit class="mr-1 ml-1 header-search-button" type=submit><svg class="header-search-button-icon" width="13" height="13" viewBox="0 0 13 13"><title>サイト内検索</title><path d="m4.8495 7.8226c.82666.0 1.5262-.29146 2.0985-.87438.57232-.58292.86378-1.2877.87438-2.1144.010599-.82666-.28086-1.5262-.87438-2.0985-.59352-.57232-1.293-.86378-2.0985-.87438-.8055-.010599-1.5103.28086-2.1144.87438-.60414.59352-.8956 1.293-.87438 2.0985.021197.8055.31266 1.5103.87438 2.1144.56172.60414 1.2665.8956 2.1144.87438zm4.4695.2115 3.681 3.6819-1.259 1.284-3.6817-3.7.0019784-.69479-.090043-.098846c-.87973.76087-1.92 1.1413-3.1207 1.1413-1.3553.0-2.5025-.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239.4696-2.4966 1.4088-3.4239c.9392-.92727 2.0864-1.3969 3.4417-1.4088 1.3553-.011889 2.4906.45771 3.406 1.4088.9154.95107 1.379 2.0924 1.3909 3.4239.0 1.2126-.38043 2.2588-1.1413 3.1385l.098834.090049z"/></svg></button></label></form></div></div></div></header></div><div id=start-of-content class=show-on-focus></div><div id=js-flash-container></div><div class=application-main data-commit-hovercards-enabled><div itemscope itemtype=http://schema.org/SoftwareSourceCode><main id=js-repo-pjax-container data-pjax-container><div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-lg-4"><div class="repohead-details-container clearfix container-lg p-responsive d-lg-block"><div class=d-flex><h1 class="public css-truncate float-none flex-auto width-fit pl-0"><a class="avatar mr-1" href=https://suihan74.github.io/about/><img src=/images/author.png class=avatar-user width=26 height=26 title=すいはん></a>
<strong itemprop=name><a href=https://suihan74.github.io/posts/2020/01_06_00_marquee_toolbar/>タイトルテキストがMarqueeするToolbarを作る</a></strong><div class="text-small text-gray mb-1 mt-1">2020年にもなって文字列をmarqueeさせたくなったので作る</div><div class="text-small text-gray"><svg class="octicon octicon-tag" viewBox="0 0 14 16" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41.0l4.59-4.59a.996.996.0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42.0.83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z" /></svg><a href=/tags/android/>android</a> <a href=/tags/kotlin/>kotlin</a> <a href=/tags/view/>view</a></div><div class="d-block text-small text-gray">Created at <time datetime="2020-01-06 00:18" class=no-wrap>2020/01/06 00:18</time></div></h1></div></div></div><div class="container-lg clearfix new-discussion-timeline experiment-repo-nav p-responsive"><div class=repository-content><div class="Box mt-3 position-relative"><div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center"><div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">815 Words</div><div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between"><div class=BtnGroup><a rel=nofollow class="btn btn-sm BtnGroup-item" href=https://github.com/suihan74/hugo_files/commits/master/content/posts/2020/01_06_00_marquee_toolbar.md>History</a></div></div></div><div id=readme class="Box-body readme blob instapaper_body js-code-block-container"><article class="markdown-body entry-content p-3 p-md-6" itemprop=text><h1 id=やりたいこと>やりたいこと<a class=anchor aria-hidden=true href=#やりたいこと><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h1><p>こういうの。</p><p><img src=/images/2020/01_06_00_01.gif alt=やりたいやつ title=様子アニメーション></p><p>ツールバーのtitle部分の文字列が横に流れ続けている。</p><h1 id=カスタムビューの作成>カスタムビューの作成<a class=anchor aria-hidden=true href=#カスタムビューの作成><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h1><p><code>Toolbar</code>を継承した次のようなカスタムビューを作成する。</p><h2 id=marqueetoolbarkt>MarqueeToolbar.kt<a class=anchor aria-hidden=true href=#marqueetoolbarkt><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kt data-lang=kt><span style=color:#66d9ef>package</span> com.suihan74.utilities

<span style=color:#66d9ef>import</span> android.content.Context
<span style=color:#66d9ef>import</span> android.text.TextUtils
<span style=color:#66d9ef>import</span> android.util.AttributeSet
<span style=color:#66d9ef>import</span> android.widget.TextView
<span style=color:#66d9ef>import</span> androidx.appcompat.widget.Toolbar

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MarqueeToolbar</span> : Toolbar {
    <span style=color:#66d9ef>constructor</span>(context: Context, attributeSet: AttributeSet? = <span style=color:#66d9ef>null</span>) :
            <span style=color:#66d9ef>super</span>(context, attributeSet)

    <span style=color:#66d9ef>constructor</span>(context: Context, attributeSet: AttributeSet?, defStyleAttr: Int) :
            <span style=color:#66d9ef>super</span>(context, attributeSet, defStyleAttr)

    <span style=color:#75715e>/** タイトルの設定が完了しているか否か */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> reflected: Boolean = <span style=color:#66d9ef>false</span>
    <span style=color:#75715e>/** タイトル部分のTextView */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> titleTextView: TextView? = <span style=color:#66d9ef>null</span>

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>setTitle</span>(resId: Int) {
        <span style=color:#66d9ef>if</span> (!reflected) {
            reflected = reflectTitle()
        }
        <span style=color:#66d9ef>super</span>.setTitle(resId)
        selectTitle()
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>setTitle</span>(title: CharSequence?) {
        <span style=color:#66d9ef>if</span> (!reflected) {
            reflected = reflectTitle()
        }
        <span style=color:#66d9ef>super</span>.setTitle(title)
        selectTitle()
    }

    <span style=color:#75715e>/** Viewが生成されたときに呼ばれる */</span>
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>onWindowFocusChanged</span>(hasWindowFocus: Boolean) {
        <span style=color:#66d9ef>super</span>.onWindowFocusChanged(hasWindowFocus)
        <span style=color:#66d9ef>if</span> (hasWindowFocus &amp;&amp; !reflected) {
            reflected = reflectTitle()
            selectTitle()
        }
    }

    <span style=color:#75715e>/** タイトル部分のTextViewを設定 */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>reflectTitle</span>() =
        <span style=color:#66d9ef>try</span> {
            <span style=color:#66d9ef>val</span> field = Toolbar<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>.java.getDeclaredField(<span style=color:#e6db74>&#34;mTitleTextView&#34;</span>).apply {
                isAccessible = <span style=color:#66d9ef>true</span>
            }
            titleTextView = (field.<span style=color:#66d9ef>get</span>(<span style=color:#66d9ef>this</span>) <span style=color:#66d9ef>as</span>? TextView)<span style=color:#f92672>?.</span>apply {
                ellipsize = TextUtils.TruncateAt.MARQUEE
                marqueeRepeatLimit = -<span style=color:#ae81ff>1</span>   <span style=color:#75715e>// forever
</span><span style=color:#75715e></span>            }

            titleTextView != <span style=color:#66d9ef>null</span>
        }
        <span style=color:#66d9ef>catch</span> (e: Throwable) {
            e.printStackTrace()
            <span style=color:#66d9ef>false</span>
        }

    <span style=color:#75715e>/** タイトル部分を選択 */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>selectTitle</span>() {
        titleTextView<span style=color:#f92672>?.</span>isSelected = <span style=color:#66d9ef>true</span>
    }
}
</code></pre></div><p>参考:<br><a href=https://gist.github.com/InsanityOnABun/95c0757f2f527cc50e39 target=_blank>A Marquee-able Android Toolbar. | InsanityOnABun / MarqueeToolbar.java | GitHub Gist</a></p><h1 id=説明>説明<a class=anchor aria-hidden=true href=#説明><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h1><p>要するに、<code>Toolbar</code>のprivateフィールドであるタイトル部分の<code>TextView</code>をリフレクションで強引にぶっこ抜いてきてmarquee用の設定を追加しているというわけ。（<code>reflectTitle()</code>部分）</p><p>なお、<code>onWindowFocusChanged()</code>をオーバーライドしているのは何らかの方法<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>でViewが生成完了して画面に表示されるまでの間に<code>reflectTitle()</code>が実行されないと<code>setTitle()</code>が呼ばれるまでアニメーションが始まらないため。<br>（<code>Activity.onCreate()</code>内で<code>toolbar.title = "長い文字列"</code>を記述しても<code>View</code>のライフサイクル的な問題で<code>reflectTitle()</code>内の<code>field.get(this)</code>に失敗する）</p><h1 id=使用方法>使用方法<a class=anchor aria-hidden=true href=#使用方法><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h1><h2 id=activity_hogexml>activity_hoge.xml<a class=anchor aria-hidden=true href=#activity_hogexml><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#f92672>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout</span>
        <span style=color:#a6e22e>xmlns:android=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res/android&#34;</span>
        <span style=color:#a6e22e>xmlns:app=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
        <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
        <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span><span style=color:#f92672>&gt;</span>

    <span style=color:#f92672>&lt;com.google.android.material.appbar.AppBarLayout</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/appbar_layout&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span><span style=color:#f92672>&gt;</span>

        <span style=color:#f92672>&lt;com.suihan74.utilities.MarqueeToolbar</span>
                <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/toolbar&#34;</span>
                <span style=color:#a6e22e>app:layout_scrollFlags=</span><span style=color:#e6db74>&#34;enterAlways|scroll&#34;</span>
                <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
                <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;/com.google.android.material.appbar.AppBarLayout&gt;</span>

    ...

<span style=color:#f92672>&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;</span>
</code></pre></div><h1 id=余談>余談<a class=anchor aria-hidden=true href=#余談><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h1><p>「サブタイトルもmarqueeさせたいぜ」という欲張りさんは同じようにして<code>MarqueeToolbar</code>で<code>mSubtitleTextView</code>をぶっこ抜いて設定すればいいんだと思う。</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>何らかの方法→<a href=https://qiita.com/wasnot/items/06375957a325ba3bc2fa target=_blank>ViewのonStart/onPause - Qiita</a>
<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></article></div></div></div></div></main></div></div><div class=utterances></div><script>var utterancesTheme='github-light'
var utterancesScript=document.createElement('script');utterancesScript.src='https://utteranc.es/client.js';utterancesScript.setAttribute('repo','suihan74\/suihan74.github.io');utterancesScript.setAttribute('issue-term','title');utterancesScript.setAttribute('theme',utterancesTheme);utterancesScript.setAttribute('crossorigin','anonymous');utterancesScript.setAttribute('async','');document.querySelector('.utterances').appendChild(utterancesScript);</script><noscript>Please enable JavaScript to view the comments</noscript><div class="footer container-lg width-full p-responsive" role=contentinfo><div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"><ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0"><li class="mr-3 mr-lg-0">© 2020 すいはん. Theme by <a href=https://github.com/MeiK2333/github-style><span>github-style</span></a> (<a href=https://github.com/suihan74/github-style><span>customized</span></a>)</li></ul><a aria-label=Homepage title=すいはんぶろぐ.io class="footer-octicon d-none d-lg-block mx-lg-4" href=https://suihan74.github.io/><svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" width="24" aria-hidden="true"><path style="fill-rule:evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.077797-1.481017-.077797-2.151017C5.9433346 12.597005 6.1160655 11.824118 6.56 11.53 4.78 11.33 3.8013559 10.978983 3.5810169 7.6647458 3.9355372 4.6446549 5.3653277 3.8240736 8.0538984 3.639661 10.967753 3.8102868 12.141357 4.4459308 12.425085 7.6477967 12.255593 10.378813 11.25 11.33 9.47 11.53c.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38C13.806446 14.490656 15.999121 11.437004 16 8c0-4.42-3.58-8-8-8z" /><rect style="fill-rule:evenodd" ry=".23728813" y="6.3898306" x="6.0169492" height="1.0847455" width="3.9830508"/></svg></a><ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0"></ul></div><div class="d-flex flex-justify-center pb-6"><span class="f6 text-gray-light"></span></div></div><script crossorigin=anonymous type=application/javascript src=https://suihan74.github.io/js/frameworks.js></script><script crossorigin=anonymous type=application/javascript src=https://suihan74.github.io/js/github-bootstrap.js></script><script src=https://suihan74.github.io/js/stop.js></script><script src=https://suihan74.github.io/js/contributions.js></script></body></html>